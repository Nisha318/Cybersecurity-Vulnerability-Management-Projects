<h1>Cybersecurity Vulnerability Management Project with OpenVAS</h1>


<ol>  
  <li> Set up a secure Azure network with an OpenVAS Vulnerability Management Scanner VM </li>
  <li> Deploy a vulnerable Windows 10 VM, featuring outdated software and disabled security controls </li>
  <li> Execute unauthenticated and credentialed vulnerability scans using OpenVAS </li>
  <li> Analyze scan results, highlighting the difference between unauthenticated and credentialed scans </li>
  <li> Remediate identified vulnerabilities, verified successful remediation through subsequent scans </li>
  <li> Create a list of remediable vulnerabilities to simulate realistic vulnerability remediation scenarios </li>
</ol>
 
<h2> Prepare Vulnerability Management Scanner </h2>

<img src ="Files/1 - Prepare Vulnerability Management Scanner 1.png">

<ol> 
<li> Go to Azure Portal</li>
<li> Navigate to the Marketplace and search for "OpenVAS secured and supported by HOSSTED"</li>
<li> Choose the "Start with a pre-set configuration" option and select the weakest configuration.</li>
<li> Click "Continue to Create VM" </li>
<li> Configure the VM: </li>
<ul>
  <li> Resource Group: Vulnerability-Management </li>
  <li> VM Name: OpenVAS (Take note of the region and Vnet–consider East US) </li>
  <li> Authentication: Username → azureuser / openvaslab123456!</li>
  <li> Monitoring: Disable Boot Diagnostic</li>
</ul>
  <li> Click "Create" to create the VM.</li>
  <li> Once the VM is created, SSH into it using PowerShell (Windows) or Terminal (MacOS) with the provided credentials.</li>
  <li> Wait until the deployment of OpenVAS is complete. </li>

</ol>

<h2> Deploy Client Virtual Machine and Make it Vulnerable </h2>

<img src="Files/Outdated software.png">
<ol>
<li> Go to Azure Portal</li> 
<li>Search for Virtual Machines and create a new Virtual Machine.</li> 
<li>Configure the VM:</li> 
<ul> 
  <li> Resource Group: Vulnerability-Management</li> 
  <li> VM Name: Win10-Vulnerable</li> 
  <li> Region: Same as the OpenVAS VM (East US)</li> 
  <li> Virtual Network: Same as OpenVAS</li> 
  <li> Image: Windows 10 Pro</li> 
  <li> Size: Any size with 2 vCPUs</li> 
  <li> Username: azureuser / openvaslab123456!</li> 
  <li> Networking: Same Vnet as OpenVAS</li> 
</ul>
  <li>  Create the VM.</li> 
  <li>  Once the VM is created, ensure you can RDP into it with the provided credentials.</li> 
  <li> After logging in, make the VM vulnerable:</li> 
<ul>
  
  <li> Disable the Windows Firewall</li> 
  <li> Gather up some Old Software</li> 
  <li> Install an Old Version of FireFox: Firefox Setup 97.0b5 </li> 
  <li> Install an Old Version of VLC Player: vlc-1.1.7-win32 </li> 
  <li> Install an Old Version of Adobe Reader: 10.0_AdbeRdr1000_en_US_1_</li> 
  <li> Restart the VM. </li> 
  </ul>
</ol>
  
<img src="Files/2 - Create Client Virtual Machine 1.png">


<h2> Configure OpenVAS to Perform First Unauthenticated Scan against the Vulnerable VM </h2>
<img src="Files/Configure OpenVAS to Perform First Unauthenticated Scan against our Vulnerable VM.png">

<ol>
<li> Login to OpenVAS and navigate to Assets > Hosts > New Host.  </li>
<li> Add the Client VM PRIVATE IP Address.</li>
<li> Create a New Target from the Host, name it "Azure Vulnerable VMs".</li>
<li> Take note of the credentials. We will add SMB credentials later.</li>
<li> Create a new Task:</li>
<ul>
  <li> Name & Comment: "Scan - Azure Vulnerable VMs"</li>
  <li>  Scan Targets: "Azure Vulnerable VMs"</li>
</ul>
<li>  Save the Task.</li>
<li> Start the "Scan - Azure Vulnerable VMs" Task.</li>
<li> Once the scan is finished, click the date under "Last Report" to see the results.</li>
<li> Take note of the Tabs, especially the "Results" tab. </li>

</ol>

<h2> Make Configurations for Credentialed Scans (Within VM) </h2>
 
<img src="Files/registry editor.png">

<ol> 
  <li> Disable Windows Firewall. </li>
  <li> Disable User Account Control. </li>
  <li> Enable Remote Registry. </li>
  <li> Set Registry Key: </li>
    <ul>
      
  <li> Launch Registry Editor (regedit.exe) in "Run as administrator" mode. </li>
  <li> Navigate to HKEY_LOCAL_MACHINE hive. </li>
  <li> Open SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System key. </li>
  <li> Create a new DWORD (32-bit) value with the following properties: </li>
  <ul> 
      <li> Name: LocalAccountTokenFilterPolicy </li>
      <li> Value: 1 </li>
  </ul>
  <li> Close Registry Editor. </li>
  </ui>
  <li> Restart the VM. </li>
  </ol>
  
<h2> Make Configurations for Credentialed Scans (OpenVAS) </h2>
 <img src="Files/make configurations for credentialed scans.png">

 <ol>
<li> Go to Configuration > Credentials > New Credential. </li> 
<li> Name / Comment: "Azure VM Credentials". </li> 
<li> Allow Insecure Use: Yes. </li> 
<li> Username: azureuser </li> 
<li> Password: openvaslab123456! </li> 
<li> Save.  </li> 
<li> Go to Configuration > Targets > CLONE the Target we made before. </li> 
<li> NEW Name / Comment: "Azure Vulnerable VMs - Credentialed Scan". </li> 
<li> Ensure the Private IP is still accurate. </li> 
<li> Credentials > SMB > Select the Credentials we just made: Azure VM Credentials. </li> 
<li> Save. </li> 
<li> Execute Cred </li> 
 </ol>

<h2> Execute Credentialed Scan against our Vulnerable Windows VM
</h2>

<img src="Files/Execute Credentialed Scan against our Vulnerable Windows VM.png">

 <img src="Files/credentialed results.png">

 <img src="Files/cve scan results.png">

<h2> Remediate Vulnerability</h2>


 <img src="Files/uninstall firefox.png">

<h2> Verify Remediations</h2>


 <img src="Files/Remediation.png">





 
